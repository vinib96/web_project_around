!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(r)?r:String(r)}var n=function(){function e(t,r,n,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=t.link,this._name=t.name,this._data=t,this.owner=t.owner._id,this._cardId=t._id,this._likes=t.likes,this._cardSelector=r,this._handleClick=n,this._handleDeleteClick=o,this._handleAddLike=i,this._handleRemoveLike=u}var r,n;return r=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector("#cards").content.querySelector(".elements__cards").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this.likeClick(),this._remove(),this._element.querySelector(".elements__card-image").src=this._link,this._element.querySelector(".elements__card-image").alt=this._name,this._element.querySelector(".elements__text").textContent=this._name,this._element.querySelector(".elements__like-counter").textContent=this._likes.length,"65f3a68ef65151a656ade171"===this.owner&&this._element.querySelector(".elements__trash").classList.add("elements__trash_hidden"),this.isLiked()&&this._element.querySelector(".elements__like-button").classList.add("elements__like-button_click"),this._element}},{key:"removeElement",value:function(){this._element.remove()}},{key:"isLiked",value:function(){return this._likes.find((function(e){return"65f3a68ef65151a656ade171"===e._id}))}},{key:"likeClick",value:function(){var e=this,t=this._element.querySelector(".elements__like-button"),r=this._element.querySelector(".elements__like-counter");t.addEventListener("click",(function n(){e.isLiked()?e._handleRemoveLike(e._cardId).then((function(n){t.classList.remove("elements__like-button_click"),e._likes=n.likes,r.textContent=e._likes.length})):e._handleAddLike(e._cardId).then((function(o){t.classList.add("elements__like-button_click");var i=e._element.querySelector(".elements__like-button_click");localStorage.setItem(i,n),r.textContent=parseInt(++e._likes.length),e._likes=o.likes}))}),(function(){var e=t.classList.add("elements__like-button_click");sessionStorage.getItem(e)}))}},{key:"_remove",value:function(){var e=this;this._element.querySelector(".elements__trash").addEventListener("click",(function(){e._handleDeleteClick()}))}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".elements__card-image").addEventListener("click",(function(){e._handleClick({link:e._link,name:e._name})}))}}])&&t(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(),o=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-button"),u=document.querySelector(".popup_profile"),c=document.querySelector(".popup_add-cards"),a=document.querySelector(".popup__input_type_name"),l=document.querySelector(".popup__input_type_about"),s=(document.querySelector(".popup__input_type_picture"),document.querySelector(".popup_full")),f=document.querySelector(".elements__container"),p=document.querySelector(".popup_erase"),y=document.querySelector(".popup_changepic"),m=document.querySelector(".profile__pic-button");function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:String(t)}var d=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=r}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e,t){var r=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),r.textContent=t,r.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add("text-color"),e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?t.classList.add(this._config.inactiveButtonClass):t.classList.remove(this._config.inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var e=this,t=this._formElement.querySelector(this._config.submitButtonSelector),r=Array.from(this._formElement.querySelectorAll(this._config.inputSelector));this._toggleButtonState(r,t),r.forEach((function(n){n.addEventListener("input",(function(){e._checkInputValidity(n),e._toggleButtonState(r,t)}))}))}},{key:"enableValidation",value:function(){var e=this;Array.from(document.querySelectorAll(this._config.formSelector)).forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault()})),Array.from(e._formElement.querySelectorAll(".popup__formset")).forEach((function(t){e._setEventListeners(t)}))}))}}])&&h(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=new d({formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},u),S=new d({formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},c),g=new d({formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},y);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:String(t)}S.enableValidation(),v.enableValidation(),g.enableValidation();var j=function(){function e(t){var r,n,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=function(e){"Escape"===e.key&&i.close()},(n=E(n="_handleEscClose"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._popupSelector=t,this.close=this.close.bind(this)}var t,r;return t=e,(r=[{key:"open",value:function(){this._popupSelector.classList.add("popup__opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup__opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){this._popupSelector.querySelector(".popup__close-button").addEventListener("click",this.close),this._popupSelector.addEventListener("click",(function(e){e.target.classList.remove("popup__opened")}))}}])&&w(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function L(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:String(t)}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},C.apply(this,arguments)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(n);if(o){var r=I(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return t=u,(r=[{key:"open",value:function(e,t){this._popupSelector.querySelector(".popup__image-large").src=e,this._popupSelector.querySelector(".popup__image-large").alt=t,this._popupSelector.querySelector(".popup__text-sub").textContent=t,C(I(u.prototype),"open",this).call(this)}},{key:"close",value:function(){C(I(u.prototype),"close",this).call(this)}}])&&O(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(j);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function x(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:String(t)}var B=function(){function e(t,r){var n=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=n,this._renderer=o,this._class=r}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._class.append(e)}},{key:"clear",value:function(){this._class.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&U(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function V(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:String(t)}var F=function(){function e(t){var r=t.nameSelector,n=t.aboutSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(r),this._aboutElement=document.querySelector(n),this._avatarElement=document.querySelector(o)}var t,r;return t=e,(r=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,about:this._aboutElement.textContent,avatar:this._avatarElement.src}}},{key:"setUserInfo",value:function(e,t,r){this._nameElement.textContent=e,this._aboutElement.textContent=t,this._avatarElement.src=r}}])&&D(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function J(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:String(t)}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},M.apply(this,arguments)}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=G(n);if(o){var r=G(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t,r=e.popupSelector,n=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,r))._handleFormSubmit=n,t._submitButton=t._popupSelector.querySelector(".popup__submit-button"),t}return t=u,(r=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popupSelector.querySelectorAll(".popup__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"_renderLoading",value:function(e){e&&(this._submitButton.textContent="Salvando...")}},{key:"close",value:function(){M(G(u.prototype),"close",this).call(this),this._popupSelector.querySelector(".popup__form").reset()}},{key:"setEventListeners",value:function(){var e=this;M(G(u.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e._renderLoading(!0),e.close()}))}}])&&H(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(j);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function X(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q(t)?t:String(t)}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Y.apply(this,arguments)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(u,e);var t,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(n);if(o){var r=$(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t,r=e.popupSelector,n=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,r))._handleFormSubmit=n,t}return t=u,(r=[{key:"open",value:function(e){this._card=e,Y($(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;Y($(u.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._card).then((function(){e.close()}))}))}}])&&W(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(j);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function ne(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(t)?t:String(t)}var oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,r;return t=e,r=[{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"editUserInfo",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addCard",value:function(e){var t=e.name,r=e.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"editAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"addLikes",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"removeLikes",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}],r&&re(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ie=new oe({baseUrl:"https://around.nomoreparties.co/v1/web_ptbr_08",headers:{authorization:"728f9375-e1ce-42d8-ae33-9e03a1e5fb11","Content-Type":"application/json"}}),ue=new T(s);ue.setEventListeners();var ce=new ee({popupSelector:p,handleFormSubmit:function(e){return ie.removeCard(e._cardId).then((function(){e.removeElement()})).catch((function(e){console.log(e)}))}});ce.setEventListeners();var ae=function(e){var t=new n(e,"#cards",(function(){ue.open(e.link,e.name)}),(function(){ce.open(t)}),ie.addLikes.bind(ie),ie.removeLikes.bind(ie));return t.generateCard()};ie.getInitialCards().then((function(e){var t=new B({items:e,renderer:function(e){t.addItem(ae(e))}},f);t.renderItems()})).catch((function(e){console.log(e)}));var le=new K({popupSelector:c,handleFormSubmit:function(){ie.addCard({name:document.querySelector(".popup__input_type_title").value,link:document.querySelector(".popup__input_type_image").value}).then((function(e){document.querySelector(".elements__container").prepend(ae(e))})).catch((function(e){console.log(e)}))}});le.setEventListeners(),i.addEventListener("click",(function(){le.open()}));var se=new F({nameSelector:".profile__name",aboutSelector:".profile__about",avatarSelector:".profile__picture"});ie.getUserInfo().then((function(e){var t=e.name,r=e.about,n=e.avatar;se.setUserInfo(t,r,n)})).catch((function(e){console.log(e)}));var fe=new K({popupSelector:u,handleFormSubmit:function(e){var t=e.name,r=e.about;ie.editUserInfo(t,r);var n=se.getUserInfo().avatar;se.setUserInfo(t,r,n)}});fe.setEventListeners(),o.addEventListener("click",(function(){var e=se.getUserInfo(),t=e.name,r=e.about;a.value=t,l.value=r,fe.open()}));var pe=new K({popupSelector:y,handleFormSubmit:function(e){var t=e.image;ie.editAvatar({avatar:document.querySelector(".popup__input_type_picture").value});var r=se.getUserInfo(),n=r.name,o=r.about;se.setUserInfo(n,o,t)}});pe.setEventListeners(),m.addEventListener("click",(function(){pe.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkNwQyxjQUFlMUMsRUFDZitFLGlCQUFrQixTQUFBOEQsR0FBZSxJQUFaaEUsRUFBS2dFLEVBQUxoRSxNQUNuQmlDLEdBQUlnQyxXQUFXLENBQ2I5SSxPQUFRMUMsU0FBU0MsY0FBYyw4QkFBOEJGLFFBRS9ELElBQUEwTCxFQUF3QlQsR0FBU0MsY0FBekIvTCxFQUFJdU0sRUFBSnZNLEtBQU1vSSxFQUFLbUUsRUFBTG5FLE1BQ2QwRCxHQUFTRSxZQUFZaE0sRUFBTW9JLEVBQU9DLEVBQ3BDLElBRUYrRCxHQUFXM0Isb0JBRVhoSCxFQUFVckIsaUJBQWlCLFNBQVMsV0FDbENnSyxHQUFXbEIsTUFDYixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0FQSS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGEsXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVBZGRMaWtlLFxuICAgIGhhbmRsZVJlbW92ZUxpa2VcbiAgKSB7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMub3duZXIgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcblxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcblxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUFkZExpa2UgPSBoYW5kbGVBZGRMaWtlO1xuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUxpa2UgPSBoYW5kbGVSZW1vdmVMaWtlO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRzXCIpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkc1wiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5saWtlQ2xpY2soKTtcblxuICAgIHRoaXMuX3JlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fY2FyZC1pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fY2FyZC1pbWFnZVwiKS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdGV4dFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saWtlLWNvdW50ZXJcIikudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbGlrZXMubGVuZ3RoO1xuXG4gICAgY29uc3QgcmVtb3ZlID0gKCkgPT4ge1xuICAgICAgY29uc3QgbXlJZCA9IFwiNjVmM2E2OGVmNjUxNTFhNjU2YWRlMTcxXCI7XG4gICAgICBpZiAodGhpcy5vd25lciA9PT0gbXlJZCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RyYXNoXCIpXG4gICAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50c19fdHJhc2hfaGlkZGVuXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlbW92ZSgpO1xuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgY29uc3QgbGlrZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZS1idXR0b25cIik7XG4gICAgICBsaWtlQnRuLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50c19fbGlrZS1idXR0b25fY2xpY2tcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICByZW1vdmVFbGVtZW50KCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIGNvbnN0IG15SWQgPSBcIjY1ZjNhNjhlZjY1MTUxYTY1NmFkZTE3MVwiO1xuXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLmZpbmQoKHJlcykgPT4gcmVzLl9pZCA9PT0gbXlJZCk7XG4gIH1cblxuICBsaWtlQ2xpY2soKSB7XG4gICAgY29uc3QgbGlrZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fbGlrZS1idXR0b25cIik7XG5cbiAgICBjb25zdCBudW1iZXJPZkxpa2VzRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmVsZW1lbnRzX19saWtlLWNvdW50ZXJcIlxuICAgICk7XG5cbiAgICBjb25zdCBsaWtlZCA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlQWRkTGlrZSh0aGlzLl9jYXJkSWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGxpa2VCdG4uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRzX19saWtlLWJ1dHRvbl9jbGlja1wiKTtcbiAgICAgICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBcIi5lbGVtZW50c19fbGlrZS1idXR0b25fY2xpY2tcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYWN0aXZlLCBsaWtlZCk7XG4gICAgICAgICAgbnVtYmVyT2ZMaWtlc0VsZW1lbnQudGV4dENvbnRlbnQgPSBwYXJzZUludCgrK3RoaXMuX2xpa2VzLmxlbmd0aCk7XG4gICAgICAgICAgdGhpcy5fbGlrZXMgPSByZXMubGlrZXM7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlTGlrZSh0aGlzLl9jYXJkSWQpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGxpa2VCdG4uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRzX19saWtlLWJ1dHRvbl9jbGlja1wiKTtcbiAgICAgICAgICB0aGlzLl9saWtlcyA9IHJlcy5saWtlcztcbiAgICAgICAgICBudW1iZXJPZkxpa2VzRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBsaWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsaWtlZCwgKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aXZlID0gbGlrZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudHNfX2xpa2UtYnV0dG9uX2NsaWNrXCIpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShhY3RpdmUpO1xuICAgIH0pO1xuICB9XG5cbiAgX3JlbW92ZSgpIHtcbiAgICBjb25zdCB0cmFzaEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fdHJhc2hcIik7XG4gICAgdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKCk7XG4gICAgfSk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmQtaW1hZ2VcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVDbGljayh7XG4gICAgICAgICAgbGluazogdGhpcy5fbGluayxcbiAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3Qgb3BlbkZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IG9wZW5BZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3Byb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2FkZC1jYXJkc1wiKTtcblxuZXhwb3J0IGNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dEFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9hYm91dFwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9waWN0dXJlXCIpO1xuZXhwb3J0IGNvbnN0IGZ1bGxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfZnVsbFwiKTtcbmV4cG9ydCBjb25zdCBjYXJkTGlzdFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fY29udGFpbmVyXCIpO1xuXG5leHBvcnQgY29uc3QgZXJhc2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfZXJhc2VcIik7XG5cbmV4cG9ydCBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2NoYW5nZXBpY1wiKTtcbmV4cG9ydCBjb25zdCBwaWNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpYy1idXR0b25cIik7XG4iLCJpbXBvcnQgeyBwb3B1cCwgYWRkQ2FyZHMsIGF2YXRhciB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgfVxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGV4dC1jb2xvclwiKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmZvcm1TZWxlY3RvcilcbiAgICApO1xuICAgIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgICBmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZmllbGRzZXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybXNldFwiKVxuICAgICAgKTtcblxuICAgICAgZmllbGRzZXRMaXN0LmZvckVhY2goKGZpZWxkc2V0KSA9PiB7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKGZpZWxkc2V0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHByb2ZpbGVWYWxpZCA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB7XG4gICAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICAgIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0LWJ1dHRvblwiLFxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICAgIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICAgIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcbiAgfSxcbiAgcG9wdXBcbik7XG5cbmNvbnN0IGFkZFZhbGlkID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHtcbiAgICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zdWJtaXQtYnV0dG9uXCIsXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gICAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxuICB9LFxuICBhZGRDYXJkc1xuKTtcblxuY29uc3QgcGljVmFsaWQgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAge1xuICAgIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIixcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG4gIH0sXG4gIGF2YXRhclxuKTtcblxuYWRkVmFsaWQuZW5hYmxlVmFsaWRhdGlvbigpO1xucHJvZmlsZVZhbGlkLmVuYWJsZVZhbGlkYXRpb24oKTtcbnBpY1ZhbGlkLmVuYWJsZVZhbGlkYXRpb24oKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9fb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcbiAgICBmdW5jdGlvbiBvbkNsaWNrKGV2dCkge1xuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX29wZW5lZFwiKTtcbiAgICB9XG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DbGljayk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbihsaW5rLCBuYW1lKSB7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZS1sYXJnZVwiKS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2UtbGFyZ2VcIikuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RleHQtc3ViXCIpLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2FyZFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY2xhc3MgPSBjYXJkU2VsZWN0b3I7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jbGFzcy5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jbGFzcy5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Fib3V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0RWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCwgaW1hZ2UpIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXRFbGVtZW50LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSBpbWFnZTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucG9wdXBfX3N1Ym1pdC1idXR0b25cIlxuICAgICk7XG4gIH1cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XG5cbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgX3JlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYWx2YW5kby4uLlwiO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpLnJlc2V0KCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLl9yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICB9XG5cbiAgb3BlbihjYXJkKSB7XG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fY2FyZCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cbiAgZWRpdFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhYm91dDogYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGxpbms6IGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogYXZhdGFyIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkTGlrZXMoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVMaWtlcyhjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQVBJLmpzXCI7XG5pbXBvcnQge1xuICBwb3B1cCxcbiAgYWRkQ2FyZHMsXG4gIGNhcmRMaXN0U2VsZWN0b3IsXG4gIG9wZW5BZGRCdXR0b24sXG4gIG9wZW5Gb3JtQnV0dG9uLFxuICBmdWxsSW1hZ2UsXG4gIGlucHV0QWJvdXQsXG4gIGlucHV0TmFtZSxcbiAgZXJhc2VQb3B1cCxcbiAgYXZhdGFyLFxuICBwaWNCdXR0b24sXG59IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfcHRicl8wOFwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI3MjhmOTM3NS1lMWNlLTQyZDgtYWUzMy05ZTAzYTFlNWZiMTFcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShmdWxsSW1hZ2UpO1xucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgZm9ybUNvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oe1xuICBwb3B1cFNlbGVjdG9yOiBlcmFzZVBvcHVwLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoY2FyZCkgPT4ge1xuICAgIHJldHVybiBhcGlcbiAgICAgIC5yZW1vdmVDYXJkKGNhcmQuX2NhcmRJZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5yZW1vdmVFbGVtZW50KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5mb3JtQ29uZmlybWF0aW9uLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHJlbmRlck5ld0NhcmQgPSAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgaXRlbSxcbiAgICBcIiNjYXJkc1wiLFxuICAgICgpID0+IHtcbiAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oaXRlbS5saW5rLCBpdGVtLm5hbWUpO1xuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgZm9ybUNvbmZpcm1hdGlvbi5vcGVuKGNhcmQpO1xuICAgIH0sXG4gICAgYXBpLmFkZExpa2VzLmJpbmQoYXBpKSxcbiAgICBhcGkucmVtb3ZlTGlrZXMuYmluZChhcGkpXG4gICk7XG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xufTtcblxuYXBpXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdENhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gICAgICB7XG4gICAgICAgIGl0ZW1zOiByZXN1bHQsXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICAgIGRlZmF1bHRDYXJkTGlzdC5hZGRJdGVtKHJlbmRlck5ld0NhcmQoaXRlbSkpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNhcmRMaXN0U2VsZWN0b3JcbiAgICApO1xuICAgIGRlZmF1bHRDYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gIH0pO1xuXG5jb25zdCBmb3JtQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogYWRkQ2FyZHMsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICgpID0+IHtcbiAgICBhcGlcbiAgICAgIC5hZGRDYXJkKHtcbiAgICAgICAgbmFtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV90aXRsZVwiKS52YWx1ZSxcbiAgICAgICAgbGluazogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9pbWFnZVwiKS52YWx1ZSxcbiAgICAgIH0pXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NvbnRhaW5lclwiKVxuICAgICAgICAgIC5wcmVwZW5kKHJlbmRlck5ld0NhcmQocmVzdWx0KSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9LFxufSk7XG5mb3JtQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xub3BlbkFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBmb3JtQWRkQ2FyZC5vcGVuKCk7XG59KTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcbiAgYWJvdXRTZWxlY3RvcjogXCIucHJvZmlsZV9fYWJvdXRcIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3BpY3R1cmVcIixcbn0pO1xuXG5hcGlcbiAgLmdldFVzZXJJbmZvKClcbiAgLnRoZW4oKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8obmFtZSwgYWJvdXQsIGF2YXRhcik7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbmNvbnN0IGZvcm1Qcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBwb3B1cCxcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHsgbmFtZSwgYWJvdXQgfSkgPT4ge1xuICAgIGFwaS5lZGl0VXNlckluZm8obmFtZSwgYWJvdXQpO1xuICAgIGNvbnN0IHsgYXZhdGFyIH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKG5hbWUsIGFib3V0LCBhdmF0YXIpO1xuICB9LFxufSk7XG5mb3JtUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xub3BlbkZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lLnZhbHVlID0gbmFtZTtcbiAgaW5wdXRBYm91dC52YWx1ZSA9IGFib3V0O1xuXG4gIGZvcm1Qcm9maWxlLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBhdmF0YXJGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBhdmF0YXIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICh7IGltYWdlIH0pID0+IHtcbiAgICBhcGkuZWRpdEF2YXRhcih7XG4gICAgICBhdmF0YXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfcGljdHVyZVwiKS52YWx1ZSxcbiAgICB9KTtcbiAgICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKG5hbWUsIGFib3V0LCBpbWFnZSk7XG4gIH0sXG59KTtcbmF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxucGljQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhckZvcm0ub3BlbigpO1xufSk7XG4iXSwibmFtZXMiOlsiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUFkZExpa2UiLCJoYW5kbGVSZW1vdmVMaWtlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9saW5rIiwibGluayIsIl9uYW1lIiwibmFtZSIsIl9kYXRhIiwib3duZXIiLCJfaWQiLCJfY2FyZElkIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUFkZExpa2UiLCJfaGFuZGxlUmVtb3ZlTGlrZSIsImtleSIsInZhbHVlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwibGlrZUNsaWNrIiwiX3JlbW92ZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwiYWRkIiwiaXNMaWtlZCIsInJlbW92ZSIsImZpbmQiLCJyZXMiLCJfdGhpczIiLCJsaWtlQnRuIiwibnVtYmVyT2ZMaWtlc0VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwibGlrZWQiLCJ0aGVuIiwiYWN0aXZlIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInBhcnNlSW50Iiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiX3RoaXMzIiwiX3RoaXM0Iiwib3BlbkZvcm1CdXR0b24iLCJvcGVuQWRkQnV0dG9uIiwicG9wdXAiLCJhZGRDYXJkcyIsImlucHV0TmFtZSIsImlucHV0QWJvdXQiLCJmdWxsSW1hZ2UiLCJjYXJkTGlzdFNlbGVjdG9yIiwiZXJhc2VQb3B1cCIsImF2YXRhciIsInBpY0J1dHRvbiIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9jb25maWciLCJfZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJjb25jYXQiLCJpZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX3RoaXMiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJmb3JtU2VsZWN0b3IiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsImZpZWxkc2V0IiwicHJvZmlsZVZhbGlkIiwiYWRkVmFsaWQiLCJwaWNWYWxpZCIsImVuYWJsZVZhbGlkYXRpb24iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJjbG9zZSIsIl9wb3B1cFNlbGVjdG9yIiwiYmluZCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiU2VjdGlvbiIsIl9yZWYiLCJpdGVtcyIsInJlbmRlcmVyIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY2xhc3MiLCJlbGVtZW50IiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiY2xlYXIiLCJpdGVtIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfbmFtZUVsZW1lbnQiLCJfYWJvdXRFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJhYm91dCIsImltYWdlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdXR0b24iLCJfaW5wdXRMaXN0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsImlzTG9hZGluZyIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiX3JlbmRlckxvYWRpbmciLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJjYXJkIiwiX2NhcmQiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiZmV0Y2giLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJfcmVmMiIsImNhcmRJZCIsImFwaSIsImF1dGhvcml6YXRpb24iLCJwb3B1cFdpdGhJbWFnZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiZm9ybUNvbmZpcm1hdGlvbiIsInJlbW92ZUNhcmQiLCJyZW1vdmVFbGVtZW50IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicmVuZGVyTmV3Q2FyZCIsIm9wZW4iLCJhZGRMaWtlcyIsInJlbW92ZUxpa2VzIiwiZ2VuZXJhdGVDYXJkIiwiZ2V0SW5pdGlhbENhcmRzIiwicmVzdWx0IiwiZGVmYXVsdENhcmRMaXN0IiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiZm9ybUFkZENhcmQiLCJhZGRDYXJkIiwicHJlcGVuZCIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImZvcm1Qcm9maWxlIiwiZWRpdFVzZXJJbmZvIiwiX3VzZXJJbmZvJGdldFVzZXJJbmZvMiIsImF2YXRhckZvcm0iLCJfcmVmMyIsImVkaXRBdmF0YXIiLCJfdXNlckluZm8kZ2V0VXNlckluZm8zIl0sInNvdXJjZVJvb3QiOiIifQ==